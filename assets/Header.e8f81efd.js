var De=Object.defineProperty,Fe=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var re=(e,a,n)=>a in e?De(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,x=(e,a)=>{for(var n in a||(a={}))ne.call(a,n)&&re(e,n,a[n]);if(j)for(var n of j(a))oe.call(a,n)&&re(e,n,a[n]);return e},N=(e,a)=>Fe(e,Le(a));var k=(e,a)=>{var n={};for(var r in e)ne.call(e,r)&&a.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&j)for(var r of j(e))a.indexOf(r)<0&&oe.call(e,r)&&(n[r]=e[r]);return n};import{r as o,R as se}from"./vendor.8038b907.js";import{A as O,j as t,a as p,b as V,F as Me}from"./index.a02568da.js";import{G as R}from"./iconBase.320f8c90.js";import{c as F,u as L,S as le}from"./SpinnerBootstrap.057a4764.js";import{t as $e,T as ie,a as ce,s as ue,E as Oe,b as de,c as U,d as pe,u as he,e as q,A as Re,f as He,M as Pe,B as je,F as ze,g as Ie,h as Ge,i as Ve,j as M,k as u,l as fe,m as $,n as Ue}from"./ModalImage.26d5315c.js";import{g as qe}from"./grey.19af5ccb.js";var Je="/assets/logo.ada3b726.svg",We=o.exports.memo(function(){const{setPage:a}=o.exports.useContext(O);return t("img",{role:"button",src:Je,alt:"Logo OnlyDog",width:200,onClick:()=>{a("dashboard")},style:{userSelect:"none"},className:"my-2",title:"T\u1EA5t nhi\xEAn l\xE0 tr\u1EEB th\u1EB1ng admin ra, ahihi :33"})});function H(...e){return e.filter(a=>a!=null).reduce((a,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return a===null?n:function(...s){a.apply(this,s),n.apply(this,s)}},null)}const Ke={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function me(e,a){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=a[n],s=Ke[e];return r+parseInt(ue(a,s[0]),10)+parseInt(ue(a,s[1]),10)}const Xe={[Oe]:"collapse",[de]:"collapsing",[U]:"collapsing",[pe]:"collapse show"},Ze={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:me},ge=se.forwardRef((m,v)=>{var E=m,{onEnter:e,onEntering:a,onEntered:n,onExit:r,onExiting:s,className:l,children:i,dimension:d="height",getDimensionValue:f=me}=E,g=k(E,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]);const c=typeof d=="function"?d():d,w=o.exports.useMemo(()=>H(h=>{h.style[c]="0"},e),[c,e]),C=o.exports.useMemo(()=>H(h=>{const S=`scroll${c[0].toUpperCase()}${c.slice(1)}`;h.style[c]=`${h[S]}px`},a),[c,a]),D=o.exports.useMemo(()=>H(h=>{h.style[c]=null},n),[c,n]),b=o.exports.useMemo(()=>H(h=>{h.style[c]=`${f(c,h)}px`,$e(h)},r),[r,f,c]),y=o.exports.useMemo(()=>H(h=>{h.style[c]=null},s),[c,s]);return t(ie,N(x({ref:v,addEndListener:ce},g),{"aria-expanded":g.role?g.in:null,onEnter:w,onEntering:C,onEntered:D,onExit:b,onExiting:y,childRef:i.ref,children:(h,S)=>se.cloneElement(i,N(x({},S),{className:F(l,i.props.className,Xe[h],c==="width"&&"collapse-horizontal")}))}))});ge.defaultProps=Ze;var _e=ge;const Qe=o.exports.createContext(null);var Ye=Qe;const ve=o.exports.createContext(null);ve.displayName="NavbarContext";var P=ve;const et={fluid:!1},J=o.exports.forwardRef((i,l)=>{var d=i,{bsPrefix:e,fluid:a,as:n="div",className:r}=d,s=k(d,["bsPrefix","fluid","as","className"]);const f=L(e,"container"),g=typeof a=="string"?`-${a}`:"-fluid";return t(n,N(x({ref:l},s),{className:F(r,a?`${f}${g}`:f)}))});J.displayName="Container";J.defaultProps=et;var tt=J;const xe=o.exports.forwardRef((l,s)=>{var i=l,{bsPrefix:e,className:a,as:n}=i,r=k(i,["bsPrefix","className","as"]);e=L(e,"navbar-brand");const d=n||(r.href?"a":"span");return t(d,N(x({},r),{ref:s,className:F(a,e)}))});xe.displayName="NavbarBrand";var at=xe;const Ee=o.exports.forwardRef((s,r)=>{var l=s,{children:e,bsPrefix:a}=l,n=k(l,["children","bsPrefix"]);a=L(a,"navbar-collapse");const i=o.exports.useContext(P);return t(_e,N(x({in:!!(i&&i.expanded)},n),{children:t("div",{ref:r,className:a,children:e})}))});Ee.displayName="NavbarCollapse";var nt=Ee;const ot={label:"Toggle navigation"},W=o.exports.forwardRef((f,d)=>{var g=f,{bsPrefix:e,className:a,children:n,label:r,as:s="button",onClick:l}=g,i=k(g,["bsPrefix","className","children","label","as","onClick"]);e=L(e,"navbar-toggler");const{onToggle:v,expanded:m}=o.exports.useContext(P)||{},E=he(c=>{l&&l(c),v&&v()});return s==="button"&&(i.type="button"),t(s,N(x({},i),{ref:d,onClick:E,"aria-label":r,className:F(a,e,!m&&"collapsed"),children:n||t("span",{className:`${e}-icon`})}))});W.displayName="NavbarToggle";W.defaultProps=ot;var rt=W,st=q("offcanvas-body");const lt={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},it={[U]:"show",[pe]:"show"},K=o.exports.forwardRef((l,s)=>{var i=l,{bsPrefix:e,className:a,children:n}=i,r=k(i,["bsPrefix","className","children"]);return e=L(e,"offcanvas"),t(ie,N(x({ref:s,addEndListener:ce},r),{childRef:n.ref,children:(d,f)=>o.exports.cloneElement(n,N(x({},f),{className:F(a,n.props.className,(d===U||d===de)&&`${e}-toggling`,it[d])}))}))});K.defaultProps=lt;K.displayName="OffcanvasToggling";var ct=K;const ut={closeLabel:"Close",closeButton:!1},X=o.exports.forwardRef((s,r)=>{var l=s,{bsPrefix:e,className:a}=l,n=k(l,["bsPrefix","className"]);return e=L(e,"offcanvas-header"),t(Re,N(x({ref:r},n),{className:F(a,e)}))});X.displayName="OffcanvasHeader";X.defaultProps=ut;var dt=X;const pt=He("h5");var ht=q("offcanvas-title",{Component:pt});const ft={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};function mt(e){return t(ct,x({},e))}function gt(e){return t(ze,x({},e))}const Z=o.exports.forwardRef((Ft,Ne)=>{var te=Ft,{bsPrefix:e,className:a,children:n,"aria-labelledby":r,placement:s,show:l,backdrop:i,keyboard:d,scroll:f,onEscapeKeyDown:g,onShow:v,onHide:m,container:E,autoFocus:c,enforceFocus:w,restoreFocus:C,restoreFocusOptions:D,onEntered:b,onExit:y,onExiting:h,onEnter:S,onEntering:B,onExited:T,backdropClassName:Y,manager:ee}=te,be=k(te,["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]);const z=o.exports.useRef();e=L(e,"offcanvas");const{onToggle:ae}=o.exports.useContext(P)||{},I=he(()=>{ae==null||ae(),m==null||m()}),we=o.exports.useMemo(()=>({onHide:I}),[I]);function Be(){return ee||(f?(z.current||(z.current=new Ie({handleContainerOverflow:!1})),z.current):Ge())}const Te=(A,...G)=>{A&&(A.style.visibility="visible"),S==null||S(A,...G)},Se=(A,...G)=>{A&&(A.style.visibility=""),T==null||T(...G)},Ae=o.exports.useCallback(A=>t("div",N(x({},A),{className:F(`${e}-backdrop`,Y)})),[Y,e]),ke=A=>t("div",N(x(x({role:"dialog"},A),be),{className:F(a,e,`${e}-${s}`),"aria-labelledby":r,children:n}));return t(Pe.Provider,{value:we,children:t(je,{show:l,ref:Ne,backdrop:i,container:E,keyboard:d,autoFocus:c,enforceFocus:w&&!f,restoreFocus:C,restoreFocusOptions:D,onEscapeKeyDown:g,onShow:v,onHide:I,onEnter:Te,onEntering:B,onEntered:b,onExit:y,onExiting:h,onExited:Se,manager:Be(),transition:mt,backdropTransition:gt,renderBackdrop:Ae,renderDialog:ke})})});Z.displayName="Offcanvas";Z.defaultProps=ft;var vt=Object.assign(Z,{Body:st,Header:dt,Title:ht});const Ce=o.exports.forwardRef((e,a)=>{const n=o.exports.useContext(P);return t(vt,x({ref:a,show:!!(n!=null&&n.expanded)},e))});Ce.displayName="NavbarOffcanvas";var xt=Ce;const Et=q("navbar-text",{Component:"span"}),Ct={expand:!0,variant:"light",collapseOnSelect:!1},_=o.exports.forwardRef((e,a)=>{const h=Ve(e,{expanded:"onToggle"}),{bsPrefix:n,expand:r,variant:s,bg:l,fixed:i,sticky:d,className:f,as:g="nav",expanded:v,onToggle:m,onSelect:E,collapseOnSelect:c}=h,w=k(h,["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"]),C=L(n,"navbar"),D=o.exports.useCallback((...S)=>{E==null||E(...S),c&&v&&(m==null||m(!1))},[E,c,v,m]);w.role===void 0&&g!=="nav"&&(w.role="navigation");let b=`${C}-expand`;typeof r=="string"&&(b=`${b}-${r}`);const y=o.exports.useMemo(()=>({onToggle:()=>m==null?void 0:m(!v),bsPrefix:C,expanded:!!v}),[C,v,m]);return t(P.Provider,{value:y,children:t(Ye.Provider,{value:D,children:t(g,N(x({ref:a},w),{className:F(f,C,r&&b,s&&`${C}-${s}`,l&&`bg-${l}`,d&&`sticky-${d}`,i&&`fixed-${i}`)}))})})});_.defaultProps=Ct;_.displayName="Navbar";var Q=Object.assign(_,{Brand:at,Collapse:nt,Offcanvas:xt,Text:Et,Toggle:rt});function yt(e){return R({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function bt(e){return R({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}var Nt=o.exports.memo(function({find:a,setFind:n}){const{setPage:r}=o.exports.useContext(O),s=l=>{r("find")};return t("div",{className:"d-flex justify-content-center my-3",style:{width:"100%"},children:p("div",{className:"d-flex",children:[t("input",{className:"form-control me-2 p-1 border-dark",placeholder:"Find user",onKeyDown:l=>{l.key==="Enter"&&s()},onChange:l=>n(l.target.value),value:a}),t("div",{role:"button",className:"border border-dark rounded pt-1 pb-2 px-3 text-dark",onClick:()=>s(),children:t(yt,{size:20})})]})})});function wt(e){return R({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"}}]}]})(e)}function Bt(e){return R({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 15h2v5h12V4H6v5H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6zm6-4V8l5 4-5 4v-3H2v-2h8z"}}]}]})(e)}function Tt(e){return R({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"}}]}]})(e)}var St=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[r,s]=o.exports.useState(""),[l,i]=o.exports.useState(null),[d,f]=o.exports.useState(!1),{setStateAccessToken:g}=o.exports.useContext(V),{showModalLogin:v,setShowModalLogin:m,setShowModalRegister:E}=o.exports.useContext(O),c=()=>m(!1),w=()=>m(!0),C=b=>{b.preventDefault(),f(!0),fetch("http://localhost:5500/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:r})}).then(y=>y.json()).then(y=>{y.success?i(null):i(y.message),localStorage.setItem("accessToken",JSON.stringify(y.accessToken)),f(!1),m(!1),g(y.accessToken)}).catch(y=>{i(y.toString()),f(!1)})},D=()=>{m(!1),E(!0)};return p(Me,{children:[t(Bt,{role:"button",size:"30",onClick:w,className:"me-3"}),p(M,{show:v,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t(M.Header,{closeButton:!0,children:t(M.Title,{children:"Login"})}),t(M.Body,{children:p(u,{onSubmit:C,children:[p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Email address"}),t(u.Control,{type:"email",placeholder:"Enter email",onChange:({target:b})=>n(b.value),value:a,required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",maxLength:"20"}),t(u.Text,{className:"text-muted",children:"Max length email is 20"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Password"}),t(u.Control,{type:"password",placeholder:"Password",onChange:({target:b})=>s(b.value),value:r,pattern:"(?=.*\\d)(?=.*[a-zA-Z]).{6,20}",required:!0}),t(u.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),l&&t(fe,{variant:"danger",children:l}),p("div",{className:"d-flex justify-content-between",children:[d?p($,{variant:"primary",disabled:!0,children:[t(le,{}),"Loading..."]}):t($,{variant:"primary",type:"submit",children:"Login"}),t($,{variant:"primary",className:"float-end",onClick:D,children:"Register"})]})]})})]})]})}),At=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[r,s]=o.exports.useState(""),[l,i]=o.exports.useState(""),[d,f]=o.exports.useState(""),[g,v]=o.exports.useState(""),[m,E]=o.exports.useState(!1),{setStateAccessToken:c}=o.exports.useContext(V),{showModalRegister:w,setShowModalRegister:C,setShowModalLogin:D}=o.exports.useContext(O),b=()=>C(!1),y=()=>C(!0),h=B=>{B.preventDefault(),E(!0),fetch("http://localhost:5500/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:r,password:l})}).then(T=>T.json()).then(T=>{T.success?v(null):v(T.message),localStorage.setItem("accessToken",JSON.stringify(T.accessToken)),E(!1),C(!1),c(T.accessToken)}).catch(T=>{v(T.toString()),E(!1)})},S=()=>{C(!1),D(!0)};return p("div",{children:[t(bt,{role:"button",size:"30",onClick:y}),p(M,{show:w,onHide:b,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t(M.Header,{closeButton:!0,children:t(M.Title,{children:"Register"})}),t(M.Body,{children:p(u,{onSubmit:h,children:[p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"User Name"}),t(u.Control,{type:"text",placeholder:"Phuong Ly",onChange:({target:B})=>n(B.value),value:a,pattern:"^[\\w\\-\\s\xC0\xC1\xC2\xC3\xC8\xC9\xCA\xCC\xCD\xD2\xD3\xD4\xD5\xD9\xDA\u0102\u0110\u0128\u0168\u01A0\xE0\xE1\xE2\xE3\xE8\xE9\xEA\xEC\xED\xF2\xF3\xF4\xF5\xF9\xFA\u0103\u0111\u0129\u0169\u01A1\u01AF\u0102\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EC0\u1EC0\u1EC2\u01B0\u0103\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EC1\u1EC1\u1EC3\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\xDD\u1EF6\u1EF8\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9]{1,40}$",autoComplete:"one-time-code",required:!0}),t(u.Text,{className:"text-muted",children:"Max length name is 20"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Email address"}),t(u.Control,{type:"email",placeholder:"DanChoiVipPro69@gmail.com",onChange:({target:B})=>s(B.value),value:r,autoComplete:"one-time-code",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",required:!0}),t(u.Text,{className:"text-muted",children:"Max length email is 20"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Password"}),t(u.Control,{type:"password",placeholder:"Password",onChange:({target:B})=>i(B.value),value:l,autoComplete:"one-time-code",required:!0,pattern:"(?=.*\\d)(?=.*[a-zA-Z]).{6,20}"}),t(u.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Confirm Password"}),t(u.Control,{type:"password",placeholder:"Confirm Password",onChange:({target:B})=>f(B.value),value:d,pattern:l,required:!0,autoComplete:"one-time-code"})]}),g&&t(fe,{variant:"danger",children:g}),p("div",{className:"d-flex justify-content-between",children:[m?p($,{variant:"primary",disabled:!0,children:[t(le,{}),"Loading..."]}):t($,{variant:"primary",type:"submit",children:"Register"}),t($,{variant:"primary",className:"float-end",onClick:S,children:"Login"})]})]})})]})]})}),kt=o.exports.memo(function(){const[a,n]=o.exports.useState(!1),{setPage:r}=o.exports.useContext(O);return p("div",{children:[t("img",{role:"button",width:"30",height:"30",src:"https://picsum.photos/1000",onClick:()=>{r("profile")},style:{objectFit:"cover",userSelect:"none"},onLoad:()=>n(!0),className:a?"rounded-circle me-3":"d-none"}),!a&&t("img",{className:"rounded-circle me-3",src:qe,height:30,width:30})]})});const ye=JSON.parse(localStorage.getItem("accessToken"));var Dt=o.exports.memo(function(){const{stateAccessToken:a,setStateAccessToken:n}=o.exports.useContext(V);return o.exports.useEffect(()=>{n(ye)},[ye,n]),p("div",{children:[p("div",{className:a?"d-flex justify-content-around":"d-none",children:[t(Ue,{component:t(wt,{style:{marginRight:18},role:"button",size:"30"})}),t(kt,{}),t(Tt,{role:"button",size:"30",onClick:()=>{n(null),localStorage.removeItem("accessToken")}})]}),p("div",{className:a?"d-none":"d-flex justify-content-around",children:[t(St,{}),t(At,{})]})]})}),jt=o.exports.memo(function(){const[a,n]=o.exports.useState("");return t(Q,{expand:"md",style:{position:"sticky",top:0,background:"white"},children:p(tt,{children:[t(We,{}),t(Q.Toggle,{"aria-controls":"basic-navbar-nav"}),p(Q.Collapse,{id:"basic-navbar-nav",children:[t(Nt,{find:a,setFind:n}),t(Dt,{})]})]})})});export{jt as default};
