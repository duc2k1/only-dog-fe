import{r as e}from"./vendor.a34827cf.js";import{g as w,S as f}from"./grey.af3a477d.js";import{j as r,b as x,A as h,g as F}from"./index.36020465.js";var v=e.exports.memo(function({rounded:t,width:s="100%",height:o}){return r("img",{src:w,width:s,height:o,className:t?"rounded-circle":""})});function S(l="",t={},s={}){return fetch("http://localhost:5500"+l,{method:"PUT",headers:t,body:s})}var C=e.exports.memo(function({userIdBeFollow:t}){var u;const{setShowModalLogin:s,stateObInfoUserCurrent:o}=e.exports.useContext(x),[i,c]=e.exports.useState(((u=o==null?void 0:o.followings)==null?void 0:u.includes(t))?"Following":"Follow"),[d,p]=e.exports.useState(!1),{stateAccessToken:n}=e.exports.useContext(h),m=F(n),g=()=>{n?(p(!0),S("/users/follow_and_unfollow",{"Content-Type":"application/json",Authorization:"Bearer "+n},JSON.stringify({userIdFollow:m,userIdBeFollow:t})).then(a=>a.json()).then(a=>{p(!1),a.message==="User was followed"?c("Following"):c("Follow")})):s(!0)};return t!==(o==null?void 0:o._id)&&r("div",{role:"button",className:i==="Follow"?"p-1 text-primary":"p-1",onClick:()=>g(),style:{userSelect:"none"},children:d?r(f,{}):i})});export{C as B,v as P,S as p};
