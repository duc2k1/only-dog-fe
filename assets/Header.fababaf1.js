var He=Object.defineProperty,je=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var le=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&le(e,n,t[n]);if(F)for(var n of F(t))se.call(t,n)&&le(e,n,t[n]);return e},N=(e,t)=>je(e,Pe(t));var L=(e,t)=>{var n={};for(var o in e)re.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&F)for(var o of F(e))t.indexOf(o)<0&&se.call(e,o)&&(n[o]=e[o]);return n};import{r,L as W,b as ie}from"./vendor.459d2761.js";import{t as ce}from"./toTop.4c4a9307.js";import{j as a,a as f,A as z,b as de,F as Fe}from"./index.49d3c204.js";import{G as A}from"./iconBase.d6578262.js";import{c as O,u as R,S as ue}from"./SpinnerBootstrap.c540691e.js";import{t as ze,T as pe,a as fe,s as he,E as De,b as ge,c as _,d as me,u as ve,e as X,A as Ge,f as Ue,M as Ve,B as Je,F as We,g as _e,h as Xe,i as Ke,j as B,k as p,l as xe,m as I,n as Ze}from"./ModalImage.c2e44ee1.js";import{g as qe}from"./grey.19af5ccb.js";var Qe="/assets/logo.ada3b726.svg",Ye=r.exports.memo(function(){return a(W,{to:"/",onClick:()=>ce(),children:a("img",{role:"button",src:Qe,alt:"Logo OnlyDog",width:200,style:{userSelect:"none"},className:"my-2",title:"T\u1EA5t nhi\xEAn l\xE0 tr\u1EEB admin ra, ahihi :33"})})});function H(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...l){t.apply(this,l),n.apply(this,l)}},null)}const et={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ye(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,o=t[n],l=et[e];return o+parseInt(he(t,l[0]),10)+parseInt(he(t,l[1]),10)}const tt={[De]:"collapse",[ge]:"collapsing",[_]:"collapsing",[me]:"collapse show"},at={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ye},be=ie.forwardRef((y,g)=>{var b=y,{onEnter:e,onEntering:t,onEntered:n,onExit:o,onExiting:l,className:s,children:i,dimension:u="height",getDimensionValue:h=ye}=b,v=L(b,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]);const c=typeof u=="function"?u():u,S=r.exports.useMemo(()=>H(d=>{d.style[c]="0"},e),[c,e]),C=r.exports.useMemo(()=>H(d=>{const m=`scroll${c[0].toUpperCase()}${c.slice(1)}`;d.style[c]=`${d[m]}px`},t),[c,t]),M=r.exports.useMemo(()=>H(d=>{d.style[c]=null},n),[c,n]),w=r.exports.useMemo(()=>H(d=>{d.style[c]=`${h(c,d)}px`,ze(d)},o),[o,h,c]),$=r.exports.useMemo(()=>H(d=>{d.style[c]=null},l),[c,l]);return a(pe,N(x({ref:g,addEndListener:fe},v),{"aria-expanded":v.role?v.in:null,onEnter:S,onEntering:C,onEntered:M,onExit:w,onExiting:$,childRef:i.ref,children:(d,m)=>ie.cloneElement(i,N(x({},m),{className:O(s,i.props.className,tt[d],c==="width"&&"collapse-horizontal")}))}))});be.defaultProps=at;var nt=be;const ot=r.exports.createContext(null);var rt=ot;const we=r.exports.createContext(null);we.displayName="NavbarContext";var j=we;const st={fluid:!1},K=r.exports.forwardRef((i,s)=>{var u=i,{bsPrefix:e,fluid:t,as:n="div",className:o}=u,l=L(u,["bsPrefix","fluid","as","className"]);const h=R(e,"container"),v=typeof t=="string"?`-${t}`:"-fluid";return a(n,N(x({ref:s},l),{className:O(o,t?`${h}${v}`:h)}))});K.displayName="Container";K.defaultProps=st;var lt=K;const Ce=r.exports.forwardRef((s,l)=>{var i=s,{bsPrefix:e,className:t,as:n}=i,o=L(i,["bsPrefix","className","as"]);e=R(e,"navbar-brand");const u=n||(o.href?"a":"span");return a(u,N(x({},o),{ref:l,className:O(t,e)}))});Ce.displayName="NavbarBrand";var it=Ce;const Ne=r.exports.forwardRef((l,o)=>{var s=l,{children:e,bsPrefix:t}=s,n=L(s,["children","bsPrefix"]);t=R(t,"navbar-collapse");const i=r.exports.useContext(j);return a(nt,N(x({in:!!(i&&i.expanded)},n),{children:a("div",{ref:o,className:t,children:e})}))});Ne.displayName="NavbarCollapse";var ct=Ne;const dt={label:"Toggle navigation"},Z=r.exports.forwardRef((h,u)=>{var v=h,{bsPrefix:e,className:t,children:n,label:o,as:l="button",onClick:s}=v,i=L(v,["bsPrefix","className","children","label","as","onClick"]);e=R(e,"navbar-toggler");const{onToggle:g,expanded:y}=r.exports.useContext(j)||{},b=ve(c=>{s&&s(c),g&&g()});return l==="button"&&(i.type="button"),a(l,N(x({},i),{ref:u,onClick:b,"aria-label":o,className:O(t,e,!y&&"collapsed"),children:n||a("span",{className:`${e}-icon`})}))});Z.displayName="NavbarToggle";Z.defaultProps=dt;var ut=Z,pt=X("offcanvas-body");const ft={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ht={[_]:"show",[me]:"show"},q=r.exports.forwardRef((s,l)=>{var i=s,{bsPrefix:e,className:t,children:n}=i,o=L(i,["bsPrefix","className","children"]);return e=R(e,"offcanvas"),a(pe,N(x({ref:l,addEndListener:fe},o),{childRef:n.ref,children:(u,h)=>r.exports.cloneElement(n,N(x({},h),{className:O(t,n.props.className,(u===_||u===ge)&&`${e}-toggling`,ht[u])}))}))});q.defaultProps=ft;q.displayName="OffcanvasToggling";var gt=q;const mt={closeLabel:"Close",closeButton:!1},Q=r.exports.forwardRef((l,o)=>{var s=l,{bsPrefix:e,className:t}=s,n=L(s,["bsPrefix","className"]);return e=R(e,"offcanvas-header"),a(Ge,N(x({ref:o},n),{className:O(t,e)}))});Q.displayName="OffcanvasHeader";Q.defaultProps=mt;var vt=Q;const xt=Ue("h5");var yt=X("offcanvas-title",{Component:xt});const bt={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};function wt(e){return a(gt,x({},e))}function Ct(e){return a(We,x({},e))}const Y=r.exports.forwardRef((Gt,Me)=>{var ne=Gt,{bsPrefix:e,className:t,children:n,"aria-labelledby":o,placement:l,show:s,backdrop:i,keyboard:u,scroll:h,onEscapeKeyDown:v,onShow:g,onHide:y,container:b,autoFocus:c,enforceFocus:S,restoreFocus:C,restoreFocusOptions:M,onEntered:w,onExit:$,onExiting:d,onEnter:m,onEntering:G,onExited:P,backdropClassName:T,manager:k}=ne,Le=L(ne,["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]);const U=r.exports.useRef();e=R(e,"offcanvas");const{onToggle:oe}=r.exports.useContext(j)||{},V=ve(()=>{oe==null||oe(),y==null||y()}),$e=r.exports.useMemo(()=>({onHide:V}),[V]);function Oe(){return k||(h?(U.current||(U.current=new _e({handleContainerOverflow:!1})),U.current):Xe())}const Re=(E,...J)=>{E&&(E.style.visibility="visible"),m==null||m(E,...J)},Be=(E,...J)=>{E&&(E.style.visibility=""),P==null||P(...J)},Ie=r.exports.useCallback(E=>a("div",N(x({},E),{className:O(`${e}-backdrop`,T)})),[T,e]),Ae=E=>a("div",N(x(x({role:"dialog"},E),Le),{className:O(t,e,`${e}-${l}`),"aria-labelledby":o,children:n}));return a(Ve.Provider,{value:$e,children:a(Je,{show:s,ref:Me,backdrop:i,container:b,keyboard:u,autoFocus:c,enforceFocus:S&&!h,restoreFocus:C,restoreFocusOptions:M,onEscapeKeyDown:v,onShow:g,onHide:V,onEnter:Re,onEntering:G,onEntered:w,onExit:$,onExiting:d,onExited:Be,manager:Oe(),transition:wt,backdropTransition:Ct,renderBackdrop:Ie,renderDialog:Ae})})});Y.displayName="Offcanvas";Y.defaultProps=bt;var Nt=Object.assign(Y,{Body:pt,Header:vt,Title:yt});const Se=r.exports.forwardRef((e,t)=>{const n=r.exports.useContext(j);return a(Nt,x({ref:t,show:!!(n!=null&&n.expanded)},e))});Se.displayName="NavbarOffcanvas";var St=Se;const Tt=X("navbar-text",{Component:"span"}),kt={expand:!0,variant:"light",collapseOnSelect:!1},ee=r.exports.forwardRef((e,t)=>{const d=Ke(e,{expanded:"onToggle"}),{bsPrefix:n,expand:o,variant:l,bg:s,fixed:i,sticky:u,className:h,as:v="nav",expanded:g,onToggle:y,onSelect:b,collapseOnSelect:c}=d,S=L(d,["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"]),C=R(n,"navbar"),M=r.exports.useCallback((...m)=>{b==null||b(...m),c&&g&&(y==null||y(!1))},[b,c,g,y]);S.role===void 0&&v!=="nav"&&(S.role="navigation");let w=`${C}-expand`;typeof o=="string"&&(w=`${w}-${o}`);const $=r.exports.useMemo(()=>({onToggle:()=>y==null?void 0:y(!g),bsPrefix:C,expanded:!!g}),[C,g,y]);return a(j.Provider,{value:$,children:a(rt.Provider,{value:M,children:a(v,N(x({ref:t},S),{className:O(h,C,o&&w,l&&`${C}-${l}`,s&&`bg-${s}`,u&&`sticky-${u}`,i&&`fixed-${i}`)}))})})});ee.defaultProps=kt;ee.displayName="Navbar";var te=Object.assign(ee,{Brand:it,Collapse:ct,Offcanvas:St,Text:Tt,Toggle:ut});function Et(e){return A({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Lt(e){return A({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}var Mt=r.exports.memo(function({find:t,setFind:n}){return a("div",{className:"d-flex justify-content-center my-3",style:{width:"100%"},children:f("div",{className:"d-flex",children:[a("input",{className:"form-control me-2 p-1 border-dark",placeholder:"Find user",onChange:o=>n(o.target.value),value:t}),a(W,{to:"/find?user_name="+t,children:a("div",{role:"button",className:"border border-dark rounded pt-1 pb-2 px-3 text-dark",children:a(Et,{size:20})})})]})})});function $t(e){return A({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"}}]}]})(e)}function Ot(e){return A({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 15h2v5h12V4H6v5H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6zm6-4V8l5 4-5 4v-3H2v-2h8z"}}]}]})(e)}function Rt(e){return A({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"}}]}]})(e)}const Te="^(?=.*[A-Za-z])(?=.*\\d).{6,30}$",ke="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$";var Bt=r.exports.memo(function(){const[t,n]=r.exports.useState(""),[o,l]=r.exports.useState(""),[s,i]=r.exports.useState(""),[u,h]=r.exports.useState(!1),[v,g]=r.exports.useState(!1),{setStateAccessToken:y}=r.exports.useContext(z),{showModalLogin:b,setShowModalLogin:c,setShowModalRegister:S}=r.exports.useContext(de),C=()=>c(!1),M=()=>c(!0),w=d=>{d.preventDefault(),h(!0),fetch("http://localhost:5500/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:o})}).then(m=>m.json()).then(m=>{m.success?(i(""),c(!1),localStorage.setItem("accessToken",JSON.stringify(m.accessToken)),y(m.accessToken)):i(m.message),h(!1)}).catch(m=>{i(m.toString()),h(!1)})},$=()=>{c(!1),S(!0)};return r.exports.useEffect(()=>{g(!!(t&&o))},[t,o]),f(Fe,{children:[a(Ot,{role:"button",size:"30",onClick:M,className:"me-3"}),f(B,{show:b,onHide:C,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[a(B.Header,{closeButton:!0,children:a(B.Title,{children:"Login"})}),a(B.Body,{children:f(p,{onSubmit:w,children:[f(p.Group,{className:"mb-3",children:[a(p.Label,{children:"Email address"}),a(p.Control,{type:"email",placeholder:"Enter email",onChange:({target:d})=>n(d.value),value:t,maxLength:"30",pattern:ke}),a(p.Text,{className:"text-muted",children:"Max length email is 20"})]}),f(p.Group,{className:"mb-3",children:[a(p.Label,{children:"Password"}),a(p.Control,{type:"password",placeholder:"Password",onChange:({target:d})=>l(d.value),value:o,pattern:Te}),a(p.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),s&&a(xe,{variant:"danger",children:s}),f("div",{className:"d-flex justify-content-between",children:[u?f(I,{variant:"primary",disabled:!0,children:[a(ue,{}),"Loading..."]}):a(I,{variant:"primary",type:"submit",disabled:!v,children:"Login"}),a(I,{variant:"primary",className:"float-end",onClick:$,children:"Register"})]})]})})]})]})});const It="^[\\w]{1,30}$";var At=r.exports.memo(function(){const[t,n]=r.exports.useState(""),[o,l]=r.exports.useState(""),[s,i]=r.exports.useState(""),[u,h]=r.exports.useState(""),[v,g]=r.exports.useState(""),[y,b]=r.exports.useState(!1),[c,S]=r.exports.useState(!1),{setStateAccessToken:C}=r.exports.useContext(z),{showModalRegister:M,setShowModalRegister:w,setShowModalLogin:$}=r.exports.useContext(de),d=()=>w(!1),m=()=>w(!0),G=T=>{T.preventDefault(),b(!0),fetch("http://localhost:5500/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,email:o,password:s})}).then(k=>k.json()).then(k=>{k.success?g(null):g(k.message),localStorage.setItem("accessToken",JSON.stringify(k.accessToken)),b(!1),w(!1),C(k.accessToken)}).catch(k=>{g(k.toString()),b(!1)})},P=()=>{w(!1),$(!0)};return r.exports.useEffect(()=>{S(!!(t&&o&&s&&u))},[t,o,s,u]),f("div",{children:[a(Lt,{role:"button",size:"30",onClick:m}),f(B,{show:M,onHide:d,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[a(B.Header,{closeButton:!0,children:a(B.Title,{children:"Register"})}),a(B.Body,{children:f(p,{onSubmit:G,children:[f(p.Group,{className:"mb-3",children:[a(p.Label,{children:"User Name"}),a(p.Control,{type:"text",placeholder:"Phuong Ly",onChange:({target:T})=>n(T.value),value:t,pattern:It,autoComplete:"one-time-code",maxLength:"30"}),a(p.Text,{className:"text-muted",children:"Max length name is 20"})]}),f(p.Group,{className:"mb-3",children:[a(p.Label,{children:"Email address"}),a(p.Control,{type:"email",placeholder:"DanChoiVipPro69@gmail.com",onChange:({target:T})=>l(T.value),value:o,maxLength:"30",autoComplete:"one-time-code",pattern:ke}),a(p.Text,{className:"text-muted",children:"Max length email is 20"})]}),f(p.Group,{className:"mb-3",children:[a(p.Label,{children:"Password"}),a(p.Control,{type:"password",placeholder:"Password",onChange:({target:T})=>i(T.value),value:s,maxLength:"20",autoComplete:"one-time-code",pattern:Te}),a(p.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),f(p.Group,{className:"mb-3",children:[a(p.Label,{children:"Confirm Password"}),a(p.Control,{type:"password",placeholder:"Confirm Password",onChange:({target:T})=>h(T.value),value:u,pattern:s,maxLength:"20",autoComplete:"one-time-code"})]}),v&&a(xe,{variant:"danger",children:v}),f("div",{className:"d-flex justify-content-between",children:[y?f(I,{variant:"primary",disabled:!0,children:[a(ue,{}),"Loading..."]}):a(I,{variant:"primary",type:"submit",disabled:!c,children:"Register"}),a(I,{variant:"primary",className:"float-end",onClick:P,children:"Login"})]})]})})]})]})});function ae(e){this.message=e}ae.prototype=new Error,ae.prototype.name="InvalidCharacterError";var Ee=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new ae("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,l=0,s=0,i="";o=t.charAt(s++);~o&&(n=l%4?64*n+o:o,l++%4)?i+=String.fromCharCode(255&n>>(-2*l&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i};function Ht(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Ee(n).replace(/(.)/g,function(o,l){var s=l.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(t)}catch{return Ee(t)}}function D(e){this.message=e}function jt(e,t){if(typeof e!="string")throw new D("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(Ht(e.split(".")[n]))}catch(o){throw new D("Invalid token specified: "+o.message)}}D.prototype=new Error,D.prototype.name="InvalidTokenError";function Pt(e){return e?jt(e).userId:""}var Ft=r.exports.memo(function(){const[t,n]=r.exports.useState(!1),{stateAccessToken:o}=r.exports.useContext(z);return f(W,{to:"/profile?user_id="+Pt(o),onClick:()=>ce(),children:[a("img",{role:"button",width:"30",height:"30",src:"https://picsum.photos/1000",style:{objectFit:"cover",userSelect:"none"},onLoad:()=>n(!0),className:t?"rounded-circle me-3":"d-none"}),!t&&a("img",{className:"rounded-circle me-3",src:qe,height:30,width:30})]})});function zt({setStateAccessToken:e}){return a(Rt,{role:"button",size:"30",onClick:()=>{e(""),localStorage.removeItem("accessToken")}})}var Dt=r.exports.memo(function(){const{stateAccessToken:t,setStateAccessToken:n}=r.exports.useContext(z);return window.onstorage=()=>{localStorage.getItem("accessToken")?n(JSON.parse(localStorage.getItem("accessToken"))):n("")},f("div",{children:[f("div",{className:t?"d-flex justify-content-around":"d-none",children:[a(Ze,{component:a($t,{style:{marginRight:18},role:"button",size:"30"})}),a(Ft,{}),a(zt,{setStateAccessToken:n})]}),f("div",{className:t?"d-none":"d-flex justify-content-around",children:[a(Bt,{}),a(At,{})]})]})}),qt=r.exports.memo(function(){const[t,n]=r.exports.useState("");return a(te,{expand:"md",style:{position:"sticky",top:0,background:"white"},children:f(lt,{children:[a(Ye,{}),a(te.Toggle,{"aria-controls":"basic-navbar-nav"}),f(te.Collapse,{id:"basic-navbar-nav",children:[a(Mt,{find:t,setFind:n}),a(Dt,{})]})]})})});export{qt as default};
