import{r as e}from"./vendor.5b6dbeb5.js";import{a as h,g as m,S as w}from"./getUserIdFromAccessToken.374bea06.js";import{j as i,b as g,A as x}from"./index.4b90bc51.js";var b=e.exports.memo(function({rounded:o,width:t="100%",height:r}){return i("img",{src:h,width:t,height:r,className:o?"rounded-circle":""})});function u(s="",o={},t={}){return fetch("http://localhost:5500"+s,{method:"PUT",headers:o,body:t})}var A=e.exports.memo(function({userIdBeFollow:o}){const[t,r]=e.exports.useState("Follow"),[p,l]=e.exports.useState(!1),{setShowModalLogin:d}=e.exports.useContext(g),{stateAccessToken:a}=e.exports.useContext(x),c=m(a),f=()=>{l(!0),a?t!=="Following"?u("/users/follow_and_unfollow",{"Content-Type":"application/json",Authorization:"Bearer "+a},JSON.stringify({userIdFollow:c,userIdBeFollow:o})).then(n=>n.json()).then(n=>{l(!1),r("Following")}):u("/users/follow_and_unfollow",{"Content-Type":"application/json",Authorization:"Bearer "+a},JSON.stringify({userIdFollow:c,userIdBeFollow:o})).then(n=>n.json()).then(n=>{l(!1),r("Follow")}):d(!0)};return i("div",{role:"button",className:t==="Follow"?"p-1 text-primary":"p-1",onClick:()=>f(),style:{userSelect:"none"},children:p?i(w,{}):t})});function C(s="",o={}){return fetch("http://localhost:5500"+s,{headers:o})}export{A as B,b as P,C as g};
