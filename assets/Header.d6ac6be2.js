var Le=Object.defineProperty,Me=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var re=(e,a,n)=>a in e?Le(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,x=(e,a)=>{for(var n in a||(a={}))ne.call(a,n)&&re(e,n,a[n]);if(j)for(var n of j(a))oe.call(a,n)&&re(e,n,a[n]);return e},N=(e,a)=>Me(e,Fe(a));var k=(e,a)=>{var n={};for(var r in e)ne.call(e,r)&&a.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&j)for(var r of j(e))a.indexOf(r)<0&&oe.call(e,r)&&(n[r]=e[r]);return n};import{r as o,L as G,b as se}from"./vendor.6ebf1996.js";import{j as t,a as p,A as V,b as le,F as $e}from"./index.1ec4675b.js";import{G as O}from"./iconBase.29e84756.js";import{c as L,u as M,S as ie}from"./SpinnerBootstrap.5cff32d4.js";import{t as Oe,T as ce,a as ue,s as de,E as Re,b as pe,c as U,d as fe,u as he,e as q,A as He,f as je,M as ze,B as Pe,F as Ie,g as Ge,h as Ve,i as Ue,j as F,k as u,l as me,m as $,n as qe}from"./ModalImage.ffe22342.js";import{g as Je}from"./grey.19af5ccb.js";var We="/assets/logo.ada3b726.svg",Xe=o.exports.memo(function(){return t(G,{to:"/",children:t("img",{role:"button",src:We,alt:"Logo OnlyDog",width:200,style:{userSelect:"none"},className:"my-2",title:"T\u1EA5t nhi\xEAn l\xE0 tr\u1EEB th\u1EB1ng admin ra, ahihi :33"})})});function R(...e){return e.filter(a=>a!=null).reduce((a,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return a===null?n:function(...s){a.apply(this,s),n.apply(this,s)}},null)}const Ze={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ge(e,a){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=a[n],s=Ze[e];return r+parseInt(de(a,s[0]),10)+parseInt(de(a,s[1]),10)}const _e={[Re]:"collapse",[pe]:"collapsing",[U]:"collapsing",[fe]:"collapse show"},Ke={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ge},ve=se.forwardRef((m,v)=>{var E=m,{onEnter:e,onEntering:a,onEntered:n,onExit:r,onExiting:s,className:i,children:l,dimension:d="height",getDimensionValue:h=ge}=E,g=k(E,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]);const c=typeof d=="function"?d():d,w=o.exports.useMemo(()=>R(f=>{f.style[c]="0"},e),[c,e]),C=o.exports.useMemo(()=>R(f=>{const S=`scroll${c[0].toUpperCase()}${c.slice(1)}`;f.style[c]=`${f[S]}px`},a),[c,a]),D=o.exports.useMemo(()=>R(f=>{f.style[c]=null},n),[c,n]),b=o.exports.useMemo(()=>R(f=>{f.style[c]=`${h(c,f)}px`,Oe(f)},r),[r,h,c]),y=o.exports.useMemo(()=>R(f=>{f.style[c]=null},s),[c,s]);return t(ce,N(x({ref:v,addEndListener:ue},g),{"aria-expanded":g.role?g.in:null,onEnter:w,onEntering:C,onEntered:D,onExit:b,onExiting:y,childRef:l.ref,children:(f,S)=>se.cloneElement(l,N(x({},S),{className:L(i,l.props.className,_e[f],c==="width"&&"collapse-horizontal")}))}))});ve.defaultProps=Ke;var Qe=ve;const Ye=o.exports.createContext(null);var et=Ye;const xe=o.exports.createContext(null);xe.displayName="NavbarContext";var H=xe;const tt={fluid:!1},J=o.exports.forwardRef((l,i)=>{var d=l,{bsPrefix:e,fluid:a,as:n="div",className:r}=d,s=k(d,["bsPrefix","fluid","as","className"]);const h=M(e,"container"),g=typeof a=="string"?`-${a}`:"-fluid";return t(n,N(x({ref:i},s),{className:L(r,a?`${h}${g}`:h)}))});J.displayName="Container";J.defaultProps=tt;var at=J;const Ee=o.exports.forwardRef((i,s)=>{var l=i,{bsPrefix:e,className:a,as:n}=l,r=k(l,["bsPrefix","className","as"]);e=M(e,"navbar-brand");const d=n||(r.href?"a":"span");return t(d,N(x({},r),{ref:s,className:L(a,e)}))});Ee.displayName="NavbarBrand";var nt=Ee;const Ce=o.exports.forwardRef((s,r)=>{var i=s,{children:e,bsPrefix:a}=i,n=k(i,["children","bsPrefix"]);a=M(a,"navbar-collapse");const l=o.exports.useContext(H);return t(Qe,N(x({in:!!(l&&l.expanded)},n),{children:t("div",{ref:r,className:a,children:e})}))});Ce.displayName="NavbarCollapse";var ot=Ce;const rt={label:"Toggle navigation"},W=o.exports.forwardRef((h,d)=>{var g=h,{bsPrefix:e,className:a,children:n,label:r,as:s="button",onClick:i}=g,l=k(g,["bsPrefix","className","children","label","as","onClick"]);e=M(e,"navbar-toggler");const{onToggle:v,expanded:m}=o.exports.useContext(H)||{},E=he(c=>{i&&i(c),v&&v()});return s==="button"&&(l.type="button"),t(s,N(x({},l),{ref:d,onClick:E,"aria-label":r,className:L(a,e,!m&&"collapsed"),children:n||t("span",{className:`${e}-icon`})}))});W.displayName="NavbarToggle";W.defaultProps=rt;var st=W,lt=q("offcanvas-body");const it={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ct={[U]:"show",[fe]:"show"},X=o.exports.forwardRef((i,s)=>{var l=i,{bsPrefix:e,className:a,children:n}=l,r=k(l,["bsPrefix","className","children"]);return e=M(e,"offcanvas"),t(ce,N(x({ref:s,addEndListener:ue},r),{childRef:n.ref,children:(d,h)=>o.exports.cloneElement(n,N(x({},h),{className:L(a,n.props.className,(d===U||d===pe)&&`${e}-toggling`,ct[d])}))}))});X.defaultProps=it;X.displayName="OffcanvasToggling";var ut=X;const dt={closeLabel:"Close",closeButton:!1},Z=o.exports.forwardRef((s,r)=>{var i=s,{bsPrefix:e,className:a}=i,n=k(i,["bsPrefix","className"]);return e=M(e,"offcanvas-header"),t(He,N(x({ref:r},n),{className:L(a,e)}))});Z.displayName="OffcanvasHeader";Z.defaultProps=dt;var pt=Z;const ft=je("h5");var ht=q("offcanvas-title",{Component:ft});const mt={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};function gt(e){return t(ut,x({},e))}function vt(e){return t(Ie,x({},e))}const _=o.exports.forwardRef((Mt,we)=>{var te=Mt,{bsPrefix:e,className:a,children:n,"aria-labelledby":r,placement:s,show:i,backdrop:l,keyboard:d,scroll:h,onEscapeKeyDown:g,onShow:v,onHide:m,container:E,autoFocus:c,enforceFocus:w,restoreFocus:C,restoreFocusOptions:D,onEntered:b,onExit:y,onExiting:f,onEnter:S,onEntering:B,onExited:T,backdropClassName:Y,manager:ee}=te,Ne=k(te,["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]);const z=o.exports.useRef();e=M(e,"offcanvas");const{onToggle:ae}=o.exports.useContext(H)||{},P=he(()=>{ae==null||ae(),m==null||m()}),Be=o.exports.useMemo(()=>({onHide:P}),[P]);function Te(){return ee||(h?(z.current||(z.current=new Ge({handleContainerOverflow:!1})),z.current):Ve())}const Se=(A,...I)=>{A&&(A.style.visibility="visible"),S==null||S(A,...I)},Ae=(A,...I)=>{A&&(A.style.visibility=""),T==null||T(...I)},ke=o.exports.useCallback(A=>t("div",N(x({},A),{className:L(`${e}-backdrop`,Y)})),[Y,e]),De=A=>t("div",N(x(x({role:"dialog"},A),Ne),{className:L(a,e,`${e}-${s}`),"aria-labelledby":r,children:n}));return t(ze.Provider,{value:Be,children:t(Pe,{show:i,ref:we,backdrop:l,container:E,keyboard:d,autoFocus:c,enforceFocus:w&&!h,restoreFocus:C,restoreFocusOptions:D,onEscapeKeyDown:g,onShow:v,onHide:P,onEnter:Se,onEntering:B,onEntered:b,onExit:y,onExiting:f,onExited:Ae,manager:Te(),transition:gt,backdropTransition:vt,renderBackdrop:ke,renderDialog:De})})});_.displayName="Offcanvas";_.defaultProps=mt;var xt=Object.assign(_,{Body:lt,Header:pt,Title:ht});const ye=o.exports.forwardRef((e,a)=>{const n=o.exports.useContext(H);return t(xt,x({ref:a,show:!!(n!=null&&n.expanded)},e))});ye.displayName="NavbarOffcanvas";var Et=ye;const Ct=q("navbar-text",{Component:"span"}),yt={expand:!0,variant:"light",collapseOnSelect:!1},K=o.exports.forwardRef((e,a)=>{const f=Ue(e,{expanded:"onToggle"}),{bsPrefix:n,expand:r,variant:s,bg:i,fixed:l,sticky:d,className:h,as:g="nav",expanded:v,onToggle:m,onSelect:E,collapseOnSelect:c}=f,w=k(f,["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"]),C=M(n,"navbar"),D=o.exports.useCallback((...S)=>{E==null||E(...S),c&&v&&(m==null||m(!1))},[E,c,v,m]);w.role===void 0&&g!=="nav"&&(w.role="navigation");let b=`${C}-expand`;typeof r=="string"&&(b=`${b}-${r}`);const y=o.exports.useMemo(()=>({onToggle:()=>m==null?void 0:m(!v),bsPrefix:C,expanded:!!v}),[C,v,m]);return t(H.Provider,{value:y,children:t(et.Provider,{value:D,children:t(g,N(x({ref:a},w),{className:L(h,C,r&&b,s&&`${C}-${s}`,i&&`bg-${i}`,d&&`sticky-${d}`,l&&`fixed-${l}`)}))})})});K.defaultProps=yt;K.displayName="Navbar";var Q=Object.assign(K,{Brand:nt,Collapse:ot,Offcanvas:Et,Text:Ct,Toggle:st});function bt(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Nt(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}var wt=o.exports.memo(function({find:a,setFind:n}){return t("div",{className:"d-flex justify-content-center my-3",style:{width:"100%"},children:p("div",{className:"d-flex",children:[t("input",{className:"form-control me-2 p-1 border-dark",placeholder:"Find user",onChange:r=>n(r.target.value),value:a}),t("div",{role:"button",className:"border border-dark rounded pt-1 pb-2 px-3 text-dark",children:t(G,{to:"/find",children:t(bt,{className:"text-dark",size:20})})})]})})});function Bt(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"}}]}]})(e)}function Tt(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 15h2v5h12V4H6v5H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6zm6-4V8l5 4-5 4v-3H2v-2h8z"}}]}]})(e)}function St(e){return O({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"}}]}]})(e)}var At=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[r,s]=o.exports.useState(""),[i,l]=o.exports.useState(null),[d,h]=o.exports.useState(!1),{setStateAccessToken:g}=o.exports.useContext(V),{showModalLogin:v,setShowModalLogin:m,setShowModalRegister:E}=o.exports.useContext(le),c=()=>m(!1),w=()=>m(!0),C=b=>{b.preventDefault(),h(!0),fetch("http://localhost:5500/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:r})}).then(y=>y.json()).then(y=>{y.success?l(null):l(y.message),localStorage.setItem("accessToken",JSON.stringify(y.accessToken)),h(!1),m(!1),g(y.accessToken)}).catch(y=>{l(y.toString()),h(!1)})},D=()=>{m(!1),E(!0)};return p($e,{children:[t(Tt,{role:"button",size:"30",onClick:w,className:"me-3"}),p(F,{show:v,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t(F.Header,{closeButton:!0,children:t(F.Title,{children:"Login"})}),t(F.Body,{children:p(u,{onSubmit:C,children:[p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Email address"}),t(u.Control,{type:"email",placeholder:"Enter email",onChange:({target:b})=>n(b.value),value:a,required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",maxLength:"20"}),t(u.Text,{className:"text-muted",children:"Max length email is 20"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Password"}),t(u.Control,{type:"password",placeholder:"Password",onChange:({target:b})=>s(b.value),value:r,pattern:"(?=.*\\d)(?=.*[a-zA-Z]).{6,20}",required:!0}),t(u.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),i&&t(me,{variant:"danger",children:i}),p("div",{className:"d-flex justify-content-between",children:[d?p($,{variant:"primary",disabled:!0,children:[t(ie,{}),"Loading..."]}):t($,{variant:"primary",type:"submit",children:"Login"}),t($,{variant:"primary",className:"float-end",onClick:D,children:"Register"})]})]})})]})]})}),kt=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[r,s]=o.exports.useState(""),[i,l]=o.exports.useState(""),[d,h]=o.exports.useState(""),[g,v]=o.exports.useState(""),[m,E]=o.exports.useState(!1),{setStateAccessToken:c}=o.exports.useContext(V),{showModalRegister:w,setShowModalRegister:C,setShowModalLogin:D}=o.exports.useContext(le),b=()=>C(!1),y=()=>C(!0),f=B=>{B.preventDefault(),E(!0),fetch("http://localhost:5500/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:r,password:i})}).then(T=>T.json()).then(T=>{T.success?v(null):v(T.message),localStorage.setItem("accessToken",JSON.stringify(T.accessToken)),E(!1),C(!1),c(T.accessToken)}).catch(T=>{v(T.toString()),E(!1)})},S=()=>{C(!1),D(!0)};return p("div",{children:[t(Nt,{role:"button",size:"30",onClick:y}),p(F,{show:w,onHide:b,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t(F.Header,{closeButton:!0,children:t(F.Title,{children:"Register"})}),t(F.Body,{children:p(u,{onSubmit:f,children:[p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"User Name"}),t(u.Control,{type:"text",placeholder:"Phuong Ly",onChange:({target:B})=>n(B.value),value:a,pattern:"^[\\w\\-\\s\xC0\xC1\xC2\xC3\xC8\xC9\xCA\xCC\xCD\xD2\xD3\xD4\xD5\xD9\xDA\u0102\u0110\u0128\u0168\u01A0\xE0\xE1\xE2\xE3\xE8\xE9\xEA\xEC\xED\xF2\xF3\xF4\xF5\xF9\xFA\u0103\u0111\u0129\u0169\u01A1\u01AF\u0102\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EC0\u1EC0\u1EC2\u01B0\u0103\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EC1\u1EC1\u1EC3\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\xDD\u1EF6\u1EF8\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9]{1,40}$",autoComplete:"one-time-code",required:!0}),t(u.Text,{className:"text-muted",children:"Max length name is 20"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Email address"}),t(u.Control,{type:"email",placeholder:"DanChoiVipPro69@gmail.com",onChange:({target:B})=>s(B.value),value:r,autoComplete:"one-time-code",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",required:!0}),t(u.Text,{className:"text-muted",children:"Max length email is 20"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Password"}),t(u.Control,{type:"password",placeholder:"Password",onChange:({target:B})=>l(B.value),value:i,autoComplete:"one-time-code",required:!0,pattern:"(?=.*\\d)(?=.*[a-zA-Z]).{6,20}"}),t(u.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),p(u.Group,{className:"mb-3",children:[t(u.Label,{children:"Confirm Password"}),t(u.Control,{type:"password",placeholder:"Confirm Password",onChange:({target:B})=>h(B.value),value:d,pattern:i,required:!0,autoComplete:"one-time-code"})]}),g&&t(me,{variant:"danger",children:g}),p("div",{className:"d-flex justify-content-between",children:[m?p($,{variant:"primary",disabled:!0,children:[t(ie,{}),"Loading..."]}):t($,{variant:"primary",type:"submit",children:"Register"}),t($,{variant:"primary",className:"float-end",onClick:S,children:"Login"})]})]})})]})]})}),Dt=o.exports.memo(function(){const[a,n]=o.exports.useState(!1);return p(G,{to:"/profile",children:[t("img",{role:"button",width:"30",height:"30",src:"https://picsum.photos/1000",style:{objectFit:"cover",userSelect:"none"},onLoad:()=>n(!0),className:a?"rounded-circle me-3":"d-none"}),!a&&t("img",{className:"rounded-circle me-3",src:Je,height:30,width:30})]})});const be=JSON.parse(localStorage.getItem("accessToken"));var Lt=o.exports.memo(function(){const{stateAccessToken:a,setStateAccessToken:n}=o.exports.useContext(V);return o.exports.useEffect(()=>{n(be)},[be,n]),p("div",{children:[p("div",{className:a?"d-flex justify-content-around":"d-none",children:[t(qe,{component:t(Bt,{style:{marginRight:18},role:"button",size:"30"})}),t(Dt,{}),t(St,{role:"button",size:"30",onClick:()=>{n(null),localStorage.removeItem("accessToken")}})]}),p("div",{className:a?"d-none":"d-flex justify-content-around",children:[t(At,{}),t(kt,{})]})]})}),Pt=o.exports.memo(function(){const[a,n]=o.exports.useState("");return t(Q,{expand:"md",style:{position:"sticky",top:0,background:"white"},children:p(at,{children:[t(Xe,{}),t(Q.Toggle,{"aria-controls":"basic-navbar-nav"}),p(Q.Collapse,{id:"basic-navbar-nav",children:[t(wt,{find:a,setFind:n}),t(Lt,{})]})]})})});export{Pt as default};
