import{r as o,R as e}from"./vendor.976f637e.js";import{s as r}from"./index.72354d7c.js";import{u as b}from"./useUser.c43dd215.js";function N(){const[t,a]=o.exports.useState(null),[l,c]=o.exports.useState(""),[d,i]=o.exports.useState(0),E=s=>{s.target.files[0]&&a(s.target.files[0])},p=()=>{r.ref(`images/${t.name}`).put(t).on("state_changed",n=>{const u=Math.round(n.bytesTransferred/n.totalBytes*100);i(u)},n=>{console.log(n)},()=>{r.ref("images").child(t.name).getDownloadURL().then(n=>{c(n)})})};return e.createElement("div",null,e.createElement("div",{className:"modal fade",id:"modalAvatar",tabIndex:-1,"aria-labelledby":"modalAvatarLabel","aria-hidden":"true"},e.createElement("div",{className:"modal-dialog modal-dialog-centered"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"modal-header"},e.createElement("h5",{className:"modal-title",id:"modalAvatarLabel"},"Update avatar"),e.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),e.createElement("div",{className:"modal-body"},e.createElement("div",{className:"container"},e.createElement("div",{className:"row"},e.createElement("input",{className:"col-6 col-sm-6 mb-2",type:"file",onChange:E}),e.createElement("div",{className:"text-center col-6 col-sm-6 mb-2"},e.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:p,style:{width:80}},"Upload")),e.createElement("img",{src:l||"http://via.placeholder.com/500",alt:"firebase-image",className:"col-sm-12 img-fluid mb-2",style:{userSelect:"none"}}),e.createElement("progress",{value:d,max:"100",className:"col-sm-12 mb-2"}),e.createElement("p",null,l&&"Upload success"))))))))}function f({user:t}){var a,l,c;return e.createElement("div",null,e.createElement("div",{className:"row p-5"},e.createElement("div",{className:"col-md-4 text-center"},e.createElement("img",{src:"https://placedog.net/500?random",alt:"",width:"200",height:"200",className:"rounded-circle",role:"button",style:{objectFit:"cover",userSelect:"none"},"data-bs-toggle":"modal","data-bs-target":"#modalAvatar"}),e.createElement(N,null)),e.createElement("div",{className:"col-md-8",style:{marginTop:65}},e.createElement("h3",{className:"text-center"},t==null?void 0:t.name),e.createElement("div",{className:"d-flex justify-content-around"},e.createElement("p",{className:"me-3"},e.createElement("b",null,(a=t==null?void 0:t.posts)==null?void 0:a.length)," posts"),e.createElement("p",{className:"me-3"},e.createElement("b",null,(l=t==null?void 0:t.followers)==null?void 0:l.length)," followers"),e.createElement("p",{className:"me-3"},e.createElement("b",null,(c=t==null?void 0:t.following)==null?void 0:c.length)," following")),e.createElement("div",{className:"text-center"},e.createElement("button",{className:"btn btn-outline-primary"},"Follow")))))}function m(){return e.createElement("div",{className:"col-sm-6 col-lg-4 mb-4"},e.createElement("img",{className:"img-fluid",src:"https://placedog.net/500?random",alt:"",style:{objectFit:"cover",userSelect:"none"}}))}function g(){return e.createElement("main",{className:"py-5"},e.createElement("div",{className:"row","data-masonry":'{"percentPosition": true }'},e.createElement(m,{key:"1"}),e.createElement(m,{key:"2"}),e.createElement(m,{key:"3"}),e.createElement(m,{key:"4"})))}function x({page:t,user:a}){const{user:l}=b(a==null?void 0:a.uid);return e.createElement("div",{className:t==="profile"?"container":"d-none"},e.createElement(f,{user:l}),e.createElement(g,null))}export{x as default};
