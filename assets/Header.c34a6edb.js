var Ae=Object.defineProperty,He=Object.defineProperties;var Ie=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var se=(e,a,n)=>a in e?Ae(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,x=(e,a)=>{for(var n in a||(a={}))ne.call(a,n)&&se(e,n,a[n]);if(F)for(var n of F(a))oe.call(a,n)&&se(e,n,a[n]);return e},w=(e,a)=>He(e,Ie(a));var E=(e,a)=>{var n={};for(var s in e)ne.call(e,s)&&a.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&F)for(var s of F(e))a.indexOf(s)<0&&oe.call(e,s)&&(n[s]=e[s]);return n};import{r as o,L as U,b as re}from"./vendor.459d2761.js";import{t as le}from"./toTop.df9c28bb.js";import{j as t,a as f,A as J,b as ie,F as je}from"./index.2956a71b.js";import{G as H}from"./iconBase.d6578262.js";import{c as O,u as B,S as ce}from"./SpinnerBootstrap.13e104d1.js";import{t as Pe,T as de,a as ue,s as pe,E as Fe,b as fe,c as W,d as he,u as me,e as X,A as ze,f as De,M as Ge,B as Ve,F as Ue,g as Je,h as We,i as Xe,j as R,k as p,l as ge,m as A,n as _e}from"./ModalImage.6d17eb90.js";import{g as Ke}from"./grey.19af5ccb.js";var Ze="/assets/logo.ada3b726.svg",qe=o.exports.memo(function(){return t(U,{to:"/",onClick:()=>le(),children:t("img",{role:"button",src:Ze,alt:"Logo OnlyDog",width:200,style:{userSelect:"none"},className:"my-2",title:"T\u1EA5t nhi\xEAn l\xE0 tr\u1EEB admin ra, ahihi :33"})})});function I(...e){return e.filter(a=>a!=null).reduce((a,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return a===null?n:function(...l){a.apply(this,l),n.apply(this,l)}},null)}const Qe={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ve(e,a){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,s=a[n],l=Qe[e];return s+parseInt(pe(a,l[0]),10)+parseInt(pe(a,l[1]),10)}const Ye={[Fe]:"collapse",[fe]:"collapsing",[W]:"collapsing",[he]:"collapse show"},et={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ve},xe=re.forwardRef((b,g)=>{var y=b,{onEnter:e,onEntering:a,onEntered:n,onExit:s,onExiting:l,className:i,children:c,dimension:u="height",getDimensionValue:h=ve}=y,m=E(y,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]);const r=typeof u=="function"?u():u,T=o.exports.useMemo(()=>I(d=>{d.style[r]="0"},e),[r,e]),C=o.exports.useMemo(()=>I(d=>{const v=`scroll${r[0].toUpperCase()}${r.slice(1)}`;d.style[r]=`${d[v]}px`},a),[r,a]),M=o.exports.useMemo(()=>I(d=>{d.style[r]=null},n),[r,n]),N=o.exports.useMemo(()=>I(d=>{d.style[r]=`${h(r,d)}px`,Pe(d)},s),[s,h,r]),$=o.exports.useMemo(()=>I(d=>{d.style[r]=null},l),[r,l]);return t(de,w(x({ref:g,addEndListener:ue},m),{"aria-expanded":m.role?m.in:null,onEnter:T,onEntering:C,onEntered:M,onExit:N,onExiting:$,childRef:c.ref,children:(d,v)=>re.cloneElement(c,w(x({},v),{className:O(i,c.props.className,Ye[d],r==="width"&&"collapse-horizontal")}))}))});xe.defaultProps=et;var tt=xe;const at=o.exports.createContext(null);var nt=at;const be=o.exports.createContext(null);be.displayName="NavbarContext";var j=be;const ot={fluid:!1},_=o.exports.forwardRef((c,i)=>{var u=c,{bsPrefix:e,fluid:a,as:n="div",className:s}=u,l=E(u,["bsPrefix","fluid","as","className"]);const h=B(e,"container"),m=typeof a=="string"?`-${a}`:"-fluid";return t(n,w(x({ref:i},l),{className:O(s,a?`${h}${m}`:h)}))});_.displayName="Container";_.defaultProps=ot;var st=_;const ye=o.exports.forwardRef((i,l)=>{var c=i,{bsPrefix:e,className:a,as:n}=c,s=E(c,["bsPrefix","className","as"]);e=B(e,"navbar-brand");const u=n||(s.href?"a":"span");return t(u,w(x({},s),{ref:l,className:O(a,e)}))});ye.displayName="NavbarBrand";var rt=ye;const Ne=o.exports.forwardRef((l,s)=>{var i=l,{children:e,bsPrefix:a}=i,n=E(i,["children","bsPrefix"]);a=B(a,"navbar-collapse");const c=o.exports.useContext(j);return t(tt,w(x({in:!!(c&&c.expanded)},n),{children:t("div",{ref:s,className:a,children:e})}))});Ne.displayName="NavbarCollapse";var lt=Ne;const it={label:"Toggle navigation"},K=o.exports.forwardRef((h,u)=>{var m=h,{bsPrefix:e,className:a,children:n,label:s,as:l="button",onClick:i}=m,c=E(m,["bsPrefix","className","children","label","as","onClick"]);e=B(e,"navbar-toggler");const{onToggle:g,expanded:b}=o.exports.useContext(j)||{},y=me(r=>{i&&i(r),g&&g()});return l==="button"&&(c.type="button"),t(l,w(x({},c),{ref:u,onClick:y,"aria-label":s,className:O(a,e,!b&&"collapsed"),children:n||t("span",{className:`${e}-icon`})}))});K.displayName="NavbarToggle";K.defaultProps=it;var ct=K,dt=X("offcanvas-body");const ut={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},pt={[W]:"show",[he]:"show"},Z=o.exports.forwardRef((i,l)=>{var c=i,{bsPrefix:e,className:a,children:n}=c,s=E(c,["bsPrefix","className","children"]);return e=B(e,"offcanvas"),t(de,w(x({ref:l,addEndListener:ue},s),{childRef:n.ref,children:(u,h)=>o.exports.cloneElement(n,w(x({},h),{className:O(a,n.props.className,(u===W||u===fe)&&`${e}-toggling`,pt[u])}))}))});Z.defaultProps=ut;Z.displayName="OffcanvasToggling";var ft=Z;const ht={closeLabel:"Close",closeButton:!1},q=o.exports.forwardRef((l,s)=>{var i=l,{bsPrefix:e,className:a}=i,n=E(i,["bsPrefix","className"]);return e=B(e,"offcanvas-header"),t(ze,w(x({ref:s},n),{className:O(a,e)}))});q.displayName="OffcanvasHeader";q.defaultProps=ht;var mt=q;const gt=De("h5");var vt=X("offcanvas-title",{Component:gt});const xt={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};function bt(e){return t(ft,x({},e))}function yt(e){return t(Ue,x({},e))}const Q=o.exports.forwardRef((It,Le)=>{var te=It,{bsPrefix:e,className:a,children:n,"aria-labelledby":s,placement:l,show:i,backdrop:c,keyboard:u,scroll:h,onEscapeKeyDown:m,onShow:g,onHide:b,container:y,autoFocus:r,enforceFocus:T,restoreFocus:C,restoreFocusOptions:M,onEntered:N,onExit:$,onExiting:d,onEnter:v,onEntering:z,onExited:P,backdropClassName:S,manager:k}=te,ke=E(te,["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]);const D=o.exports.useRef();e=B(e,"offcanvas");const{onToggle:ae}=o.exports.useContext(j)||{},G=me(()=>{ae==null||ae(),b==null||b()}),Ee=o.exports.useMemo(()=>({onHide:G}),[G]);function Me(){return k||(h?(D.current||(D.current=new Je({handleContainerOverflow:!1})),D.current):We())}const $e=(L,...V)=>{L&&(L.style.visibility="visible"),v==null||v(L,...V)},Oe=(L,...V)=>{L&&(L.style.visibility=""),P==null||P(...V)},Be=o.exports.useCallback(L=>t("div",w(x({},L),{className:O(`${e}-backdrop`,S)})),[S,e]),Re=L=>t("div",w(x(x({role:"dialog"},L),ke),{className:O(a,e,`${e}-${l}`),"aria-labelledby":s,children:n}));return t(Ge.Provider,{value:Ee,children:t(Ve,{show:i,ref:Le,backdrop:c,container:y,keyboard:u,autoFocus:r,enforceFocus:T&&!h,restoreFocus:C,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:g,onHide:G,onEnter:$e,onEntering:z,onEntered:N,onExit:$,onExiting:d,onExited:Oe,manager:Me(),transition:bt,backdropTransition:yt,renderBackdrop:Be,renderDialog:Re})})});Q.displayName="Offcanvas";Q.defaultProps=xt;var Nt=Object.assign(Q,{Body:dt,Header:mt,Title:vt});const Ce=o.exports.forwardRef((e,a)=>{const n=o.exports.useContext(j);return t(Nt,x({ref:a,show:!!(n!=null&&n.expanded)},e))});Ce.displayName="NavbarOffcanvas";var Ct=Ce;const wt=X("navbar-text",{Component:"span"}),Tt={expand:!0,variant:"light",collapseOnSelect:!1},Y=o.exports.forwardRef((e,a)=>{const d=Xe(e,{expanded:"onToggle"}),{bsPrefix:n,expand:s,variant:l,bg:i,fixed:c,sticky:u,className:h,as:m="nav",expanded:g,onToggle:b,onSelect:y,collapseOnSelect:r}=d,T=E(d,["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"]),C=B(n,"navbar"),M=o.exports.useCallback((...v)=>{y==null||y(...v),r&&g&&(b==null||b(!1))},[y,r,g,b]);T.role===void 0&&m!=="nav"&&(T.role="navigation");let N=`${C}-expand`;typeof s=="string"&&(N=`${N}-${s}`);const $=o.exports.useMemo(()=>({onToggle:()=>b==null?void 0:b(!g),bsPrefix:C,expanded:!!g}),[C,g,b]);return t(j.Provider,{value:$,children:t(nt.Provider,{value:M,children:t(m,w(x({ref:a},T),{className:O(h,C,s&&N,l&&`${C}-${l}`,i&&`bg-${i}`,u&&`sticky-${u}`,c&&`fixed-${c}`)}))})})});Y.defaultProps=Tt;Y.displayName="Navbar";var ee=Object.assign(Y,{Brand:rt,Collapse:lt,Offcanvas:Ct,Text:wt,Toggle:ct});function St(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function kt(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}var Lt=o.exports.memo(function({find:a,setFind:n}){return t("div",{className:"d-flex justify-content-center my-3",style:{width:"100%"},children:f("div",{className:"d-flex",children:[t("input",{className:"form-control me-2 p-1 border-dark",placeholder:"Find user",onChange:s=>n(s.target.value),value:a}),t(U,{to:a?"/find?user_name="+a:"/",children:t("div",{role:"button",className:"border border-dark rounded pt-1 pb-2 px-3 text-dark",children:t(St,{size:20})})})]})})});function Et(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"}}]}]})(e)}function Mt(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 15h2v5h12V4H6v5H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6zm6-4V8l5 4-5 4v-3H2v-2h8z"}}]}]})(e)}function $t(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"}}]}]})(e)}const we="^(?=.*[A-Za-z])(?=.*d).{6,30}$",Te="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$";var Ot=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[s,l]=o.exports.useState(""),[i,c]=o.exports.useState(null),[u,h]=o.exports.useState(!1),[m,g]=o.exports.useState(!1),{setStateAccessToken:b}=o.exports.useContext(J),{showModalLogin:y,setShowModalLogin:r,setShowModalRegister:T}=o.exports.useContext(ie),C=()=>r(!1),M=()=>r(!0),N=d=>{d.preventDefault(),h(!0),fetch("http://localhost:5500/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:s})}).then(v=>v.json()).then(v=>{v.success?(c(null),r(!1),localStorage.setItem("accessToken",JSON.stringify(v.accessToken)),b(v.accessToken)):c(v.message),h(!1)}).catch(v=>{c(v.toString()),h(!1)})},$=()=>{r(!1),T(!0)};return o.exports.useEffect(()=>{g(!!(a&&s)),console.log(m)},[a,s]),f(je,{children:[t(Mt,{role:"button",size:"30",onClick:M,className:"me-3"}),f(R,{show:y,onHide:C,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t(R.Header,{closeButton:!0,children:t(R.Title,{children:"Login"})}),t(R.Body,{children:f(p,{onSubmit:N,children:[f(p.Group,{className:"mb-3",children:[t(p.Label,{children:"Email address"}),t(p.Control,{type:"email",placeholder:"Enter email",onChange:({target:d})=>n(d.value),value:a,maxLength:"30",pattern:Te}),t(p.Text,{className:"text-muted",children:"Max length email is 20"})]}),f(p.Group,{className:"mb-3",children:[t(p.Label,{children:"Password"}),t(p.Control,{type:"password",placeholder:"Password",onChange:({target:d})=>l(d.value),value:s,pattern:we}),t(p.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),i&&t(ge,{variant:"danger",children:i}),f("div",{className:"d-flex justify-content-between",children:[u?f(A,{variant:"primary",disabled:!0,children:[t(ce,{}),"Loading..."]}):t(A,{variant:"primary",type:"submit",disabled:!m,children:"Login"}),t(A,{variant:"primary",className:"float-end",onClick:$,children:"Register"})]})]})})]})]})});const Bt="^[w]{1,30}$";var Rt=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[s,l]=o.exports.useState(""),[i,c]=o.exports.useState(""),[u,h]=o.exports.useState(""),[m,g]=o.exports.useState(""),[b,y]=o.exports.useState(!1),[r,T]=o.exports.useState(!1),{setStateAccessToken:C}=o.exports.useContext(J),{showModalRegister:M,setShowModalRegister:N,setShowModalLogin:$}=o.exports.useContext(ie),d=()=>N(!1),v=()=>N(!0),z=S=>{S.preventDefault(),y(!0),fetch("http://localhost:5500/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:a,email:s,password:i})}).then(k=>k.json()).then(k=>{k.success?g(null):g(k.message),localStorage.setItem("accessToken",JSON.stringify(k.accessToken)),y(!1),N(!1),C(k.accessToken)}).catch(k=>{g(k.toString()),y(!1)})},P=()=>{N(!1),$(!0)};return o.exports.useEffect(()=>{T(!!(a&&s&&i&&u)),console.log(r)},[a,s,i,u]),f("div",{children:[t(kt,{role:"button",size:"30",onClick:v}),f(R,{show:M,onHide:d,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t(R.Header,{closeButton:!0,children:t(R.Title,{children:"Register"})}),t(R.Body,{children:f(p,{onSubmit:z,children:[f(p.Group,{className:"mb-3",children:[t(p.Label,{children:"User Name"}),t(p.Control,{type:"text",placeholder:"Phuong Ly",onChange:({target:S})=>n(S.value),value:a,pattern:Bt,autoComplete:"one-time-code",maxLength:"30"}),t(p.Text,{className:"text-muted",children:"Max length name is 20"})]}),f(p.Group,{className:"mb-3",children:[t(p.Label,{children:"Email address"}),t(p.Control,{type:"email",placeholder:"DanChoiVipPro69@gmail.com",onChange:({target:S})=>l(S.value),value:s,maxLength:"30",autoComplete:"one-time-code",pattern:Te}),t(p.Text,{className:"text-muted",children:"Max length email is 20"})]}),f(p.Group,{className:"mb-3",children:[t(p.Label,{children:"Password"}),t(p.Control,{type:"password",placeholder:"Password",onChange:({target:S})=>c(S.value),value:i,maxLength:"20",autoComplete:"one-time-code",pattern:we}),t(p.Text,{className:"text-muted",children:"Must contain at least one number, one letter or more characters and at least 6"})]}),f(p.Group,{className:"mb-3",children:[t(p.Label,{children:"Confirm Password"}),t(p.Control,{type:"password",placeholder:"Confirm Password",onChange:({target:S})=>h(S.value),value:u,pattern:i,maxLength:"20",autoComplete:"one-time-code"})]}),m&&t(ge,{variant:"danger",children:m}),f("div",{className:"d-flex justify-content-between",children:[b?f(A,{variant:"primary",disabled:!0,children:[t(ce,{}),"Loading..."]}):t(A,{variant:"primary",type:"submit",disabled:!r,children:"Register"}),t(A,{variant:"primary",className:"float-end",onClick:P,children:"Login"})]})]})})]})]})}),At=o.exports.memo(function(){const[a,n]=o.exports.useState(!1);return f(U,{to:"/profile?userId=oi23osdifhsdi2342342",onClick:()=>le(),children:[t("img",{role:"button",width:"30",height:"30",src:"https://picsum.photos/1000",style:{objectFit:"cover",userSelect:"none"},onLoad:()=>n(!0),className:a?"rounded-circle me-3":"d-none"}),!a&&t("img",{className:"rounded-circle me-3",src:Ke,height:30,width:30})]})});const Se=JSON.parse(localStorage.getItem("accessToken"));var Ht=o.exports.memo(function(){const{stateAccessToken:a,setStateAccessToken:n}=o.exports.useContext(J);return o.exports.useEffect(()=>{n(Se)},[Se,n]),f("div",{children:[f("div",{className:a?"d-flex justify-content-around":"d-none",children:[t(_e,{component:t(Et,{style:{marginRight:18},role:"button",size:"30"})}),t(At,{}),t($t,{role:"button",size:"30",onClick:()=>{n(null),localStorage.removeItem("accessToken")}})]}),f("div",{className:a?"d-none":"d-flex justify-content-around",children:[t(Ot,{}),t(Rt,{})]})]})}),Jt=o.exports.memo(function(){const[a,n]=o.exports.useState("");return t(ee,{expand:"md",style:{position:"sticky",top:0,background:"white"},children:f(st,{children:[t(qe,{}),t(ee.Toggle,{"aria-controls":"basic-navbar-nav"}),f(ee.Collapse,{id:"basic-navbar-nav",children:[t(Lt,{find:a,setFind:n}),t(Ht,{})]})]})})});export{Jt as default};
