import{r as e}from"./vendor.c17dc5c3.js";import{g as w,S as x}from"./grey.a56d084d.js";import{j as a,b as h,A as f,g as F}from"./index.33593495.js";var v=e.exports.memo(function({rounded:t,width:s="100%",height:o}){return a("img",{src:w,width:s,height:o,className:t?"rounded-circle":""})});function S(l="",t={},s={}){return fetch("http://localhost:5500"+l,{method:"PUT",headers:t,body:s})}var C=e.exports.memo(function({userIdBeFollow:t}){var u;const{setShowModalLogin:s,stateObInfoUserCurrent:o}=e.exports.useContext(h),[c,i]=e.exports.useState(((u=o==null?void 0:o.followings)==null?void 0:u.includes(t))?"Following":"Follow"),[d,p]=e.exports.useState(!1),{stateAccessToken:n}=e.exports.useContext(f),m=F(n),g=()=>{n?(p(!0),S("/users/follow_and_unfollow",{"Content-Type":"application/json",Authorization:"Bearer "+n},JSON.stringify({userIdFollow:m,userIdBeFollow:t})).then(r=>r.json()).then(r=>{p(!1),r.message==="User was followed"?i("Following"):i("Follow")})):s(!0)};return t!==(o==null?void 0:o._id)&&a("div",{role:"button",className:c==="Follow"?"p-1 text-primary":"p-1",onClick:()=>g(),style:{userSelect:"none"},children:d?a(x,{}):c})});export{C as B,v as P,S as p};
