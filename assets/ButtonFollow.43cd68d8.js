import{r as t}from"./vendor.a34827cf.js";import{g as w,S as f}from"./grey.8fba2d01.js";import{j as a,b as x,A as h,g as F}from"./index.88e6b3dc.js";var v=t.exports.memo(function({rounded:e,width:s="100%",height:o}){return a("img",{src:w,width:s,height:o,className:e?"rounded-circle":""})});function S(n="",e={},s={}){return fetch("https://only-dog-be.azurewebsites.net"+n,{method:"PUT",headers:e,body:s})}var C=t.exports.memo(function({userIdBeFollow:e}){var p;const{setShowModalLogin:s,stateObInfoUserCurrent:o}=t.exports.useContext(x),[i,c]=t.exports.useState(((p=o==null?void 0:o.followings)==null?void 0:p.includes(e))?"Following":"Follow"),[d,u]=t.exports.useState(!1),{stateAccessToken:l}=t.exports.useContext(h),m=F(l),g=()=>{l?(u(!0),S("/users/follow_and_unfollow",{"Content-Type":"application/json",Authorization:"Bearer "+l},JSON.stringify({userIdFollow:m,userIdBeFollow:e})).then(r=>r.json()).then(r=>{u(!1),r.message==="User was followed"?c("Following"):c("Follow")})):s(!0)};return e!==(o==null?void 0:o._id)&&a("div",{role:"button",className:i==="Follow"?"p-1 text-primary":"p-1",onClick:()=>g(),style:{userSelect:"none"},children:d?a(f,{}):i})});export{C as B,v as P,S as p};
