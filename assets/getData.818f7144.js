import{r as t}from"./vendor.ba3e1fed.js";import{a as m,g as f,S as h}from"./getUserIdFromAccessToken.d1fc770e.js";import{j as a,b as w,A as g}from"./index.5d84bee1.js";var A=t.exports.memo(function({rounded:e,width:o="100%",height:r}){return a("img",{src:m,width:o,height:r,className:e?"rounded-circle":""})});function x(s="",e={},o={}){return fetch("http://localhost:5500"+s,{method:"PUT",headers:e,body:o})}var C=t.exports.memo(function({userIdBeFollow:e}){const[o,r]=t.exports.useState("Follow"),[u,c]=t.exports.useState(!1),{setShowModalLogin:i}=t.exports.useContext(w),{stateAccessToken:n}=t.exports.useContext(g),p=f(n),d=()=>{c(!0),n?x("/users/follow_and_unfollow",{"Content-Type":"application/json",Authorization:"Bearer "+n},JSON.stringify({userIdFollow:p,userIdBeFollow:e})).then(l=>l.json()).then(l=>{c(!1),l.message==="User was followed"?r("Following"):r("Follow")}):i(!0)};return a("div",{role:"button",className:o==="Follow"?"p-1 text-primary":"p-1",onClick:()=>d(),style:{userSelect:"none"},children:u?a(h,{}):o})});function I(s="",e={}){return fetch("http://localhost:5500"+s,{headers:e})}export{C as B,A as P,I as g};
