var Le=Object.defineProperty,Me=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var oe=(e,a,n)=>a in e?Le(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,x=(e,a)=>{for(var n in a||(a={}))ae.call(a,n)&&oe(e,n,a[n]);if(z)for(var n of z(a))ne.call(a,n)&&oe(e,n,a[n]);return e},w=(e,a)=>Me(e,je(a));var M=(e,a)=>{var n={};for(var r in e)ae.call(e,r)&&a.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&z)for(var r of z(e))a.indexOf(r)<0&&ne.call(e,r)&&(n[r]=e[r]);return n};import{r as o,R as t}from"./vendor.28270e0b.js";import{A as B}from"./index.194ea4a6.js";import{G as P}from"./iconBase.f43784c3.js";import{t as $e,j as g,T as re,a as se,c as $,s as le,E as Re,b as ce,d as V,e as ie,u as R,f as de,g as U,A as Oe,h as Be,M as He,B as Pe,F as Ae,i as Fe,k as ze,l as Ie,m as O,n as d,o as ue,p as H,S as me,q as De}from"./ModalImage.0b8c85fd.js";import{g as Ge}from"./grey.19af5ccb.js";var Ve="/assets/logo.ada3b726.svg",Ue=o.exports.memo(function(){const{setPage:a}=o.exports.useContext(B);return t.createElement("img",{role:"button",src:Ve,alt:"Logo OnlyDog",width:200,onClick:()=>{a("dashboard")},style:{userSelect:"none"},className:"my-2"})});function A(...e){return e.filter(a=>a!=null).reduce((a,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return a===null?n:function(...s){a.apply(this,s),n.apply(this,s)}},null)}const Je={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function pe(e,a){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=a[n],s=Je[e];return r+parseInt(le(a,s[0]),10)+parseInt(le(a,s[1]),10)}const We={[Re]:"collapse",[ce]:"collapsing",[V]:"collapsing",[ie]:"collapse show"},qe={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:pe},fe=t.forwardRef((h,m)=>{var E=h,{onEnter:e,onEntering:a,onEntered:n,onExit:r,onExiting:s,className:l,children:c,dimension:u="height",getDimensionValue:f=pe}=E,v=M(E,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]);const i=typeof u=="function"?u():u,N=o.exports.useMemo(()=>A(p=>{p.style[i]="0"},e),[i,e]),C=o.exports.useMemo(()=>A(p=>{const k=`scroll${i[0].toUpperCase()}${i.slice(1)}`;p.style[i]=`${p[k]}px`},a),[i,a]),j=o.exports.useMemo(()=>A(p=>{p.style[i]=null},n),[i,n]),b=o.exports.useMemo(()=>A(p=>{p.style[i]=`${f(i,p)}px`,$e(p)},r),[r,f,i]),y=o.exports.useMemo(()=>A(p=>{p.style[i]=null},s),[i,s]);return g.exports.jsx(re,w(x({ref:m,addEndListener:se},v),{"aria-expanded":v.role?v.in:null,onEnter:N,onEntering:C,onEntered:j,onExit:b,onExiting:y,childRef:c.ref,children:(p,k)=>t.cloneElement(c,w(x({},k),{className:$(l,c.props.className,We[p],i==="width"&&"collapse-horizontal")}))}))});fe.defaultProps=qe;var Ke=fe;const Xe=o.exports.createContext(null);var Ze=Xe;const ge=o.exports.createContext(null);ge.displayName="NavbarContext";var F=ge;const Qe={fluid:!1},J=o.exports.forwardRef((c,l)=>{var u=c,{bsPrefix:e,fluid:a,as:n="div",className:r}=u,s=M(u,["bsPrefix","fluid","as","className"]);const f=R(e,"container"),v=typeof a=="string"?`-${a}`:"-fluid";return g.exports.jsx(n,w(x({ref:l},s),{className:$(r,a?`${f}${v}`:f)}))});J.displayName="Container";J.defaultProps=Qe;var Ye=J;const ve=o.exports.forwardRef((l,s)=>{var c=l,{bsPrefix:e,className:a,as:n}=c,r=M(c,["bsPrefix","className","as"]);e=R(e,"navbar-brand");const u=n||(r.href?"a":"span");return g.exports.jsx(u,w(x({},r),{ref:s,className:$(a,e)}))});ve.displayName="NavbarBrand";var _e=ve;const xe=o.exports.forwardRef((s,r)=>{var l=s,{children:e,bsPrefix:a}=l,n=M(l,["children","bsPrefix"]);a=R(a,"navbar-collapse");const c=o.exports.useContext(F);return g.exports.jsx(Ke,w(x({in:!!(c&&c.expanded)},n),{children:g.exports.jsx("div",{ref:r,className:a,children:e})}))});xe.displayName="NavbarCollapse";var et=xe;const tt={label:"Toggle navigation"},W=o.exports.forwardRef((f,u)=>{var v=f,{bsPrefix:e,className:a,children:n,label:r,as:s="button",onClick:l}=v,c=M(v,["bsPrefix","className","children","label","as","onClick"]);e=R(e,"navbar-toggler");const{onToggle:m,expanded:h}=o.exports.useContext(F)||{},E=de(i=>{l&&l(i),m&&m()});return s==="button"&&(c.type="button"),g.exports.jsx(s,w(x({},c),{ref:u,onClick:E,"aria-label":r,className:$(a,e,!h&&"collapsed"),children:n||g.exports.jsx("span",{className:`${e}-icon`})}))});W.displayName="NavbarToggle";W.defaultProps=tt;var at=W,nt=U("offcanvas-body");const ot={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},rt={[V]:"show",[ie]:"show"},q=o.exports.forwardRef((l,s)=>{var c=l,{bsPrefix:e,className:a,children:n}=c,r=M(c,["bsPrefix","className","children"]);return e=R(e,"offcanvas"),g.exports.jsx(re,w(x({ref:s,addEndListener:se},r),{childRef:n.ref,children:(u,f)=>o.exports.cloneElement(n,w(x({},f),{className:$(a,n.props.className,(u===V||u===ce)&&`${e}-toggling`,rt[u])}))}))});q.defaultProps=ot;q.displayName="OffcanvasToggling";var st=q;const lt={closeLabel:"Close",closeButton:!1},K=o.exports.forwardRef((s,r)=>{var l=s,{bsPrefix:e,className:a}=l,n=M(l,["bsPrefix","className"]);return e=R(e,"offcanvas-header"),g.exports.jsx(Oe,w(x({ref:r},n),{className:$(a,e)}))});K.displayName="OffcanvasHeader";K.defaultProps=lt;var ct=K;const it=Be("h5");var dt=U("offcanvas-title",{Component:it});const ut={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};function mt(e){return g.exports.jsx(st,x({},e))}function pt(e){return g.exports.jsx(Ae,x({},e))}const X=o.exports.forwardRef((Lt,be)=>{var ee=Lt,{bsPrefix:e,className:a,children:n,"aria-labelledby":r,placement:s,show:l,backdrop:c,keyboard:u,scroll:f,onEscapeKeyDown:v,onShow:m,onHide:h,container:E,autoFocus:i,enforceFocus:N,restoreFocus:C,restoreFocusOptions:j,onEntered:b,onExit:y,onExiting:p,onEnter:k,onEntering:T,onExited:S,backdropClassName:Y,manager:_}=ee,ye=M(ee,["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]);const I=o.exports.useRef();e=R(e,"offcanvas");const{onToggle:te}=o.exports.useContext(F)||{},D=de(()=>{te==null||te(),h==null||h()}),Ne=o.exports.useMemo(()=>({onHide:D}),[D]);function Ce(){return _||(f?(I.current||(I.current=new Fe({handleContainerOverflow:!1})),I.current):ze())}const we=(L,...G)=>{L&&(L.style.visibility="visible"),k==null||k(L,...G)},Te=(L,...G)=>{L&&(L.style.visibility=""),S==null||S(...G)},Se=o.exports.useCallback(L=>g.exports.jsx("div",w(x({},L),{className:$(`${e}-backdrop`,Y)})),[Y,e]),ke=L=>g.exports.jsx("div",w(x(x({role:"dialog"},L),ye),{className:$(a,e,`${e}-${s}`),"aria-labelledby":r,children:n}));return g.exports.jsx(He.Provider,{value:Ne,children:g.exports.jsx(Pe,{show:l,ref:be,backdrop:c,container:E,keyboard:u,autoFocus:i,enforceFocus:N&&!f,restoreFocus:C,restoreFocusOptions:j,onEscapeKeyDown:v,onShow:m,onHide:D,onEnter:we,onEntering:T,onEntered:b,onExit:y,onExiting:p,onExited:Te,manager:Ce(),transition:mt,backdropTransition:pt,renderBackdrop:Se,renderDialog:ke})})});X.displayName="Offcanvas";X.defaultProps=ut;var ft=Object.assign(X,{Body:nt,Header:ct,Title:dt});const he=o.exports.forwardRef((e,a)=>{const n=o.exports.useContext(F);return g.exports.jsx(ft,x({ref:a,show:!!(n!=null&&n.expanded)},e))});he.displayName="NavbarOffcanvas";var gt=he;const vt=U("navbar-text",{Component:"span"}),xt={expand:!0,variant:"light",collapseOnSelect:!1},Z=o.exports.forwardRef((e,a)=>{const p=Ie(e,{expanded:"onToggle"}),{bsPrefix:n,expand:r,variant:s,bg:l,fixed:c,sticky:u,className:f,as:v="nav",expanded:m,onToggle:h,onSelect:E,collapseOnSelect:i}=p,N=M(p,["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"]),C=R(n,"navbar"),j=o.exports.useCallback((...k)=>{E==null||E(...k),i&&m&&(h==null||h(!1))},[E,i,m,h]);N.role===void 0&&v!=="nav"&&(N.role="navigation");let b=`${C}-expand`;typeof r=="string"&&(b=`${b}-${r}`);const y=o.exports.useMemo(()=>({onToggle:()=>h==null?void 0:h(!m),bsPrefix:C,expanded:!!m}),[C,m,h]);return g.exports.jsx(F.Provider,{value:y,children:g.exports.jsx(Ze.Provider,{value:j,children:g.exports.jsx(v,w(x({ref:a},N),{className:$(f,C,r&&b,s&&`${C}-${s}`,l&&`bg-${l}`,u&&`sticky-${u}`,c&&`fixed-${c}`)}))})})});Z.defaultProps=xt;Z.displayName="Navbar";var Q=Object.assign(Z,{Brand:_e,Collapse:et,Offcanvas:gt,Text:vt,Toggle:at});function ht(e){return P({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Et(e){return P({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}var yt=o.exports.memo(function({find:a,setFind:n}){const{setPage:r}=o.exports.useContext(B),s=l=>{r("find")};return t.createElement("div",{className:"d-flex justify-content-center my-3",style:{width:"100%"}},t.createElement("div",{className:"d-flex"},t.createElement("input",{className:"form-control me-2 p-1 border-dark",placeholder:"Find user",onKeyDown:l=>{l.key==="Enter"&&s()},onChange:l=>n(l.target.value),value:a}),t.createElement("div",{role:"button",className:"border border-dark rounded pt-1 pb-2 px-3 text-dark",onClick:()=>s()},t.createElement(ht,{size:20}))))});function bt(e){return P({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"}}]}]})(e)}function Nt(e){return P({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 15h2v5h12V4H6v5H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6zm6-4V8l5 4-5 4v-3H2v-2h8z"}}]}]})(e)}function Ct(e){return P({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"}}]}]})(e)}var wt=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[r,s]=o.exports.useState(""),[l,c]=o.exports.useState(null),[u,f]=o.exports.useState(!1),{showModalLogin:v,setShowModalLogin:m,setShowModalRegister:h,setStateAccessToken:E}=o.exports.useContext(B),i=()=>m(!1),N=()=>m(!0),C=b=>{b.preventDefault(),f(!0),fetch("http://localhost:5500/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:r})}).then(y=>y.json()).then(y=>{y.success?c(null):c(y.message),localStorage.setItem("accessToken",JSON.stringify(y.accessToken)),f(!1),m(!1),E(y.accessToken)}).catch(y=>{c(y.toString()),f(!1)})},j=()=>{m(!1),h(!0)};return t.createElement(t.Fragment,null,t.createElement(Nt,{role:"button",size:"30",onClick:N,className:"me-3"}),t.createElement(O,{show:v,onHide:i,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},t.createElement(O.Header,{closeButton:!0},t.createElement(O.Title,null,"Login")),t.createElement(O.Body,null,t.createElement(d,{onSubmit:C},t.createElement(d.Group,{className:"mb-3"},t.createElement(d.Label,null,"Email address"),t.createElement(d.Control,{type:"email",placeholder:"Enter email",onChange:({target:b})=>n(b.value),value:a,required:!0,maxLength:"20"}),t.createElement(d.Text,{className:"text-muted"},"Max length email is 20")),t.createElement(d.Group,{className:"mb-3"},t.createElement(d.Label,null,"Password"),t.createElement(d.Control,{type:"password",placeholder:"Password",onChange:({target:b})=>s(b.value),value:r,maxLength:"20",pattern:"(?=.*\\d)(?=.*[a-zA-Z]).{6,}"}),t.createElement(d.Text,{className:"text-muted"},"Must contain at least one number, one letter or more characters and at least 6")),l&&t.createElement(ue,{variant:"danger"},l),t.createElement("div",{className:"d-flex justify-content-between"},u?t.createElement(H,{variant:"primary",disabled:!0},t.createElement(me,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading..."):t.createElement(H,{variant:"primary",type:"submit"},"Login"),t.createElement(H,{variant:"primary",className:"float-end",onClick:j},"Register"))))))}),Tt=o.exports.memo(function(){const[a,n]=o.exports.useState(""),[r,s]=o.exports.useState(""),[l,c]=o.exports.useState(""),[u,f]=o.exports.useState(""),[v,m]=o.exports.useState(""),[h,E]=o.exports.useState(!1),{showModalRegister:i,setShowModalRegister:N,setShowModalLogin:C,setStateAccessToken:j}=o.exports.useContext(B),b=()=>N(!1),y=()=>N(!0),p=T=>{T.preventDefault(),E(!0),fetch("http://localhost:5500/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:r,password:l})}).then(S=>S.json()).then(S=>{S.success?m(null):m(S.message),localStorage.setItem("accessToken",JSON.stringify(S.accessToken)),E(!1),N(!1),j(S.accessToken)}).catch(S=>{m(S.toString()),E(!1)})},k=()=>{N(!1),C(!0)};return t.createElement("div",null,t.createElement(Et,{role:"button",size:"30",onClick:y}),t.createElement(O,{show:i,onHide:b,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},t.createElement(O.Header,{closeButton:!0},t.createElement(O.Title,null,"Register")),t.createElement(O.Body,null,t.createElement(d,{onSubmit:p},t.createElement(d.Group,{className:"mb-3"},t.createElement(d.Label,null,"User Name"),t.createElement(d.Control,{type:"text",placeholder:"Phuong Ly",onChange:({target:T})=>n(T.value),value:a,required:!0,maxLength:"20",autoComplete:"one-time-code"}),t.createElement(d.Text,{className:"text-muted"},"Max length name is 20")),t.createElement(d.Group,{className:"mb-3"},t.createElement(d.Label,null,"Email address"),t.createElement(d.Control,{type:"email",placeholder:"DanChoiVipPro69@gmail.com",onChange:({target:T})=>s(T.value),value:r,required:!0,maxLength:"20",autoComplete:"one-time-code"}),t.createElement(d.Text,{className:"text-muted"},"Max length email is 20")),t.createElement(d.Group,{className:"mb-3"},t.createElement(d.Label,null,"Password"),t.createElement(d.Control,{type:"password",placeholder:"Password",onChange:({target:T})=>c(T.value),value:l,maxLength:"20",autoComplete:"one-time-code",pattern:"(?=.*\\d)(?=.*[a-zA-Z]).{6,}"}),t.createElement(d.Text,{className:"text-muted"},"Must contain at least one number, one letter or more characters and at least 6")),t.createElement(d.Group,{className:"mb-3"},t.createElement(d.Label,null,"Confirm Password"),t.createElement(d.Control,{type:"password",placeholder:"Confirm Password",onChange:({target:T})=>f(T.value),value:u,maxLength:"20",pattern:l,autoComplete:"one-time-code"})),v&&t.createElement(ue,{variant:"danger"},v),t.createElement("div",{className:"d-flex justify-content-between"},h?t.createElement(H,{variant:"primary",disabled:!0},t.createElement(me,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading..."):t.createElement(H,{variant:"primary",type:"submit"},"Register"),t.createElement(H,{variant:"primary",className:"float-end",onClick:k},"Login"))))))}),St=o.exports.memo(function(){const[a,n]=o.exports.useState(!1),{setPage:r}=o.exports.useContext(B);return t.createElement("div",null,t.createElement("img",{role:"button",width:"30",height:"30",src:"https://picsum.photos/1000",onClick:()=>{r("profile")},style:{objectFit:"cover",userSelect:"none"},onLoad:()=>n(!0),className:a?"rounded-circle me-3":"d-none"}),!a&&t.createElement("img",{className:"rounded-circle me-3",src:Ge,height:30,width:30}))});const Ee=JSON.parse(localStorage.getItem("accessToken"));var kt=o.exports.memo(function(){const{stateAccessToken:a,setStateAccessToken:n}=o.exports.useContext(B);return o.exports.useEffect(()=>{n(Ee)},[Ee,n]),t.createElement("div",null,t.createElement("div",{className:a?"d-flex justify-content-around":"d-none"},t.createElement(De,{component:t.createElement(bt,{style:{marginRight:18},role:"button",size:"30"})}),t.createElement(St,null),t.createElement(Ct,{role:"button",size:"30",onClick:()=>{n(null),localStorage.removeItem("accessToken")}})),t.createElement("div",{className:a?"d-none":"d-flex justify-content-around"},t.createElement(wt,null),t.createElement(Tt,null)))}),Ht=o.exports.memo(function(){const[a,n]=o.exports.useState("");return t.createElement(Q,{expand:"md",style:{position:"sticky",top:0,background:"white"}},t.createElement(Ye,null,t.createElement(Ue,null),t.createElement(Q.Toggle,{"aria-controls":"basic-navbar-nav"}),t.createElement(Q.Collapse,{id:"basic-navbar-nav"},t.createElement(yt,{find:a,setFind:n}),t.createElement(kt,null))))});export{Ht as default};
